@model List<IdentityUser>
@{
    ViewData["Title"] = "Shelter List";
}

<section class="theme-section">
    <div class="container">
        <div class="theme-header">
            <h1 class="theme-title">
                <i class="fas fa-users"></i> Shelter Directory
            </h1>
            <p class="theme-subtitle">Connect with trusted shelters and rescue organizations</p>
        </div>

        <div class="theme-grid">
            @if (Model == null || !Model.Any())
            {
                <div class="theme-empty-wrap">
                    <div class="theme-empty">
                        <div class="icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="title">No Shelters Found</div>
                        <div class="msg">No shelter organizations are currently registered in our system.</div>
                    </div>
                </div>
            }
            else
            {
                @foreach (var user in Model)
                {
                    <div class="theme-card">
                        <h3 class="theme-card-title">@user.UserName</h3>
                        <div class="theme-list">
                            <div class="theme-item">
                                <i class="fas fa-envelope"></i>
                                <span>@user.Email</span>
                            </div>
                            <div class="theme-item">
                                <i class="fas fa-phone"></i>
                                <span>@(string.IsNullOrEmpty(user.PhoneNumber)? "Not provided" : user.PhoneNumber)</span>
                            </div>
                        </div>
                        <form method="get" asp-controller="Shelter" asp-action="ShelterPage">
                            <input type="hidden" name="Id" value="@user.Id" />
                            <input type="hidden" name="Username" value="@user" />
                            <input type="hidden" name="Email" value="@user.Email" />
                            <input type="hidden" name="Phonenumber" value="@user.PhoneNumber" />
                            <button type="submit" class="theme-cta">
                                <i class="fas fa-building"></i>
                                View Shelter
                            </button>
                        </form>
                    </div>
                }
            }
        </div>
    </div>
</section>

